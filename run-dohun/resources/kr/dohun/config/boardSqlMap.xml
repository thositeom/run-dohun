<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//iBATIS.com//DTD SQL Map 2.0//EN" "http://www.ibatis.com/dtd/sql-map-2.dtd">
<sqlMap namespace="boardSqlMap">
	<typeAlias alias="board" type="kr.dohun.board.BoardVO" />
	
	<resultMap id="boardMap" class="board">
		<result property="boardIdx" column="BOARD_IDX" />
		<result property="boardId" column="BOARD_ID" />
		<result property="boardParentIdx" column="PARENT_IDX" />
		<result property="boardType" column="BOARD_TYPE" />
		<result property="boardTitle" column="TITLE" />
		<result property="boardContent" column="CONTENT" />
		<result property="boardNotice" column="NOTICE" />
		<result property="boardSecret" column="SECRET" />
		<result property="boardCreateDate" column="CREATEDATE" />
		<result property="boardCreateUser" column="CRATEUSER" />
		<result property="boardUpdateDate" column="UPDATEDATE" />
		<result property="boardUpdateUser" column="UPDATEUSER" />
		<result property="boardBest" column="BEST" />
		<result property="boardWost" column="WOST" />
		<result property="boardCategory01" column="CATEGORY01" />
		<result property="boardCategory02" column="CATEGORY02" />
		<result property="boardCategory03" column="CATEGORY03" />
	</resultMap>

	<select id="boardList" parameterClass="board" resultMap="boardMap">
		SELECT *
		  FROM (SELECT *
		          FROM (SELECT @ROWNUM := @ROWNUM + 1 AS NO, A.*
		                  FROM (SELECT *
		                          FROM BOARD ) A,
		                       (SELECT @ROWNUM := 0) B) C
		         WHERE C.NO <![CDATA[<=]]> #endRow#) X
		 WHERE X.NO <![CDATA[>=]]> #startRow#
	</select>
	
	<select id="boardListCnt" parameterClass="java.lang.String" resultClass="java.lang.Integer">
		SELECT COUNT(*) FROM BOARD
	</select>
	
	<insert id="boardInsertInfo" parameterClass="board">
		INSERT INTO BOARD
		(BOARD_IDX,BOARD_ID,PARENT_IDX,BOARD_TYPE,TITLE
		,CONTENT,NOTICE,SECRET,CREATEDATE,CRATEUSER
		,UPDATEDATE,UPDATEUSER,BEST,WOST,CATEGORY01
		,CATEGORY02,CATEGORY03
		) 
		VALUES 
		(#boardIdx#,#boardId#,#boardParentIdx#,#boardType#,#boardTitle#
		,#boardContent#,#boardNotice#,#boardSecret#,NOW(),#boardCreateUser#
		,NOW(),#boardUpdateUser#,#boardBest#,#boardWost#,#boardCategory01#
		,#boardCategory02#,#boardCategory03#)
	</insert>	
	
<!-- 	<select id="honeyListCnt" parameterClass="java.lang.String" resultClass="java.lang.Integer">
		SELECT COUNT(*) FROM HONEY WHERE H_USERID = #honeyUserId#
	</select>
	
	<select id="honeyInfo" parameterClass="honey" resultMap="honeyMap">
		SELECT * FROM HONEY WHERE H_ID = #honeyId#
	</select>

	<insert id="honeyInsertInfo" parameterClass="honey">
		INSERT INTO HONEY 
		(H_ID,H_USERID,H_ORDERDATE,H_PAYMENT,H_ORDERLIST,H_QTY
		,H_COST,H_AMOUNT,H_WAYBILL,H_DELIVERYDATE,H_ETC01) 
		VALUES 
		(#honeyId#,#honeyUserId#,#honeyOrderDate#,#honeyPayment#,#honeyOrderList#,#honeyQty#
		,#honeyCost#,#honeyAmount#,#honeyWaybill#,#honeyDeliveryDate#,#honeyEtc01#)
	</insert>

	<update id="honeyUpdateInfo" parameterClass="honey">
		UPDATE HONEY SET 
			H_PAYMENT=#honeyPayment#,
			H_ORDERDATE=#honeyOrderDate#,
			H_ORDERLIST=#honeyOrderList#,
			H_QTY=#honeyQty#,
			H_COST=#honeyCost#,
			H_AMOUNT=#honeyAmount#,
			H_WAYBILL=#honeyWaybill#,
			H_DELIVERYDATE=#honeyDeliveryDate#,
			H_ETC01=#honeyEtc01#
		WHERE H_ID=#honeyId# 
	</update>	
 
	<delete id="honeyDeleteInfo" parameterClass="honey">
		DELETE FROM HONEY WHERE H_ID = #honeyId#
	</delete>
  -->
</sqlMap>